%!TEX root = ./trial-nov2012.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \documentclass[answers,addpoints,a4paper,12pt]{exam}
% \begin{document}
%
% MACROS:
% \nynorsk   %% if language is norsk, you may use \nynorsk.
% \examcover
%  {norsk}   %% languages may be: norsk, english, or american
%  {DAT320 Operativsystemer}
%  {12. desember 2012}
%  {4}       %% Duration
%  {\none}   %% MAY USE: \none, \calc, or \all for standard
%  {Hein Meling, tlf. (518) 32080}
%  {Merknad}
%  {Vedlegg}
%
% This macro only produces the cover for UiS exams. To use other aspects of
% the exam document class, see http://www-math.mit.edu/~psh/ for further
% documentation.
%
% TODO: Calculate total percentage from the parts (see exam doc)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\typeout{uis-exam, Hein Meling}
\usepackage[english, american, norsk, nynorsk]{babel}
\usepackage{ucs}
\usepackage[utf8x]{inputenc}
\usepackage{bold-extra}

% ----------------------------------------------------------------------------
% Deklarerer og initialiserer variablar
% ----------------------------------------------------------------------------

\def\VK@e{}
\def\VK@logofile{}
\newif\if@logohere \@logoherefalse
\def\logo#1{\ifx\VK@e#1\else\def\VK@logofile{#1}\@logoheretrue\fi}

\def\VK@organization{}
\def\organization#1{\ifx\VK@e#1\else\def\VK@organization{#1}\fi}
\def\VK@faculty{}
\def\faculty#1{\def\VK@faculty{#1}}
\def\VK@subject{}
\def\subject#1{\def\VK@subject{#1}}
\def\VK@date{}
\def\date#1{\def\VK@date{#1}}
\def\VK@duration{}
\def\duration#1{\def\VK@duration{#1}}
\def\VK@remedies{}
\def\remedies#1{\def\VK@remedies{#1}}
\def\VK@questset{}
\def\questset#1{\def\VK@questset{#1}}
\def\VK@contact{}
\def\contact#1{\def\VK@contact{#1}}
\def\VK@remarks{}
\def\remarks#1{\def\VK@remarks{#1}}
\def\VK@attach{}
\def\attach#1{\def\VK@attach{#1}}
\def\VK@questionson{}
\def\questionson#1{\def\VK@questionson{#1}}
\def\VK@pages{}
\def\pages#1{\def\VK@pages{#1}}
\def\VK@dur{}
\def\dur#1{\def\VK@dur{#1}}
\def\VK@quest{}
\def\quest#1{\def\VK@quest{#1}}
\def\VK@solu{}
\def\solu#1{\def\VK@solu{#1}}

% ----------------------------------------------------------------------------
% Predefined variables
% ----------------------------------------------------------------------------

\organization{\iflanguage{norsk}{Universitetet i Stavanger}{University of Stavanger}}
\faculty{\iflanguage{norsk}{Det teknisk-\\naturvitenskapelige fakultet}{Faculty of Science\\ and Technology}}
\subject{\iflanguage{norsk}{Eksamen i emne:}{Exam in subject:}}
\date{\iflanguage{norsk}{Dato:}{Date:}}
\duration{\iflanguage{norsk}{Varighet:}{Duration:}}
\remedies{\iflanguage{norsk}{Tillatte hjelpemidler:}{Allowed remedies:}}
\questset{\iflanguage{norsk}{Oppgavesettet består av:}{The exam consists of:}}
\contact{\iflanguage{norsk}{Kontaktperson under eksamen:}{Contact during exam:}}
\remarks{\iflanguage{norsk}{Merknader:}{Remarks:}}
\attach{\iflanguage{norsk}{Vedlegg:}{Attachments:}}
\questionson{\iflanguage{norsk}{oppgaver på }{exercises on }}
\pages{\iflanguage{norsk}{sider}{pages}}
\dur{\iflanguage{norsk}{timer}{hours}}
\quest{\iflanguage{norsk}{Oppgave}{Question}}
\solu{\iflanguage{norsk}{Løsning}{Solution}}

% ----------------------------------------------------------------------------
% Predefined commands
% ----------------------------------------------------------------------------

\def\none{\iflanguage{norsk}{Ingen}{None}}
\def\calc{\iflanguage{norsk}{Bestemt enkel kalkulator}{Fixed simple calculator}}
\def\all{\iflanguage{norsk}{Alle}{All}}

\newcommand{\apxref}[1]{\iflanguage{norsk}{vedlegg~\ref{#1}}{Appendix~\ref{#1}}}
\newcommand{\figref}[1]{\iflanguage{norsk}{figur~\ref{#1}}{Figure~\ref{#1}}}
\newcommand{\delref}[1]{\iflanguage{norsk}{deloppgave~(\ref{#1})}{part~(\ref{#1})}}

\def\nynorsk{\remedies{Tillatne hjelpemiddel:}%%
             \duration{Lengd:}%%
             \remarks{Merknadar:}%%
             \questset{Oppgåvesettet er samansett av:}%%
             \quest{Oppgåve}%%
             \solu{Løysing}}

% ----------------------------------------------------------------------------
% Logo file location
% ----------------------------------------------------------------------------

\logo{uis-logo.pdf}

% ----------------------------------------------------------------------------
% Macro: examcover
% Parameters: subject (number and name), date, duration, remedies,
%             contact person, remarks, attachments
% ----------------------------------------------------------------------------

\newcommand{\examcover}[8]{
\selectlanguage{#1}
\hfill
\begin{tabular}{c}
\includegraphics[height=28mm]{\VK@logofile}\vspace{.2cm} \\
{\scriptsize\sffamily
\begin{minipage}[c]{4.5cm}
\centering\VK@faculty
\end{minipage}\vspace{.6cm}}
\end{tabular}
{\scshape
\begin{tabular}{ll}
\VK@subject  & {\bfseries #2} \\
\VK@date     & {\bfseries #3} \\
\VK@duration & {\bfseries #4 \VK@dur} \\
\VK@remedies & {\bfseries #5} \\
\VK@questset & {\bfseries \numquestions{} \VK@questionson \numpages{} \VK@pages} \\
\VK@contact  & {\bfseries #6} \\
\VK@remarks  & {\bfseries #7} \\
\VK@attach   & {\bfseries #8} \\
\end{tabular}
}
\begin{center}
\linethickness{0.3mm}
\line(10,0){450}
\end{center}
}

% ----------------------------------------------------------------------------
% Tuning exam.cls parameters
% ----------------------------------------------------------------------------

\pointname{\%}
\qformat{{\large\bfseries\VK@quest~\thequestion: \thequestiontitle~(\thepoints)\hfill}}
\renewcommand{\solutiontitle}{\noindent\textbf{\VK@solu:}\enspace}


